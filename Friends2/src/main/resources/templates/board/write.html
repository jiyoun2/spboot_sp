<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>글쓰기</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div id="container">
        <div id="main">
            <!-- 세션이 없으면 로그인을 요청(js) -->
            <script th:inline="javascript">
                let loginEmail = [[${session.loginEmail}]]
                if(!loginEmail) {
                    alert("로그인이 필요합니다.");
                    location.href = "/members/login";
                }
            </script>
            <h2><a th:href="@{/}">글쓰기</a></h2>
            <form th:action="@{/boards/write}" method="post" class="writeForm" th:object="${boardDTO}">
                <div th:if="${#fields.hasAnyErrors()}">
                    <div th:each="err : ${#fields.allErrors()}" th:text="${err}"></div>
                </div>
                <fieldset>
                    <ul>
                        <li>
                            <input type="text" name="title" placeholder="제목" size="62" th:field="*{title}">
                        </li>
                        <li>
                            <textarea name="content" placeholder="내용" rows="8" cols="50" th:field="*{content}"></textarea>
                        </li>
                        <li>
                            <input type="text" name="writer" th:value="${session.loginName}" size="62">
                        </li>
                        <li class="btn">
                            <input type="submit" value="등록">
                            <input type="reset" value="취소" onclick="history.back()">
                        </li>
                    </ul>
                </fieldset>
            </form>
        </div>
    </div>
</body>
</html>